directive @isAuthenticated on QUERY | FIELD

type Book @isAuthenticated {
  _id: ID!
  title: String!
  author: String!
}

type User @isAuthenticated {
  _id: ID!
  pseudo: String!
  books: [Book!]!
  password: String!
  fullName: String
  city: String
  state: String
  requestedTrades: [Trade!]!
  acceptedTrades: [Trade!]!
}

type Trade @isAuthenticated {
  _id: ID!
  book: Book!
  requester: User!
  accepted: Boolean!
}

type JwtPayload {
  token: String!
}

type Query {
  login(pseudo: String!, password: String!): JwtPayload
  books(id: String): [Book!]! @isAuthenticated
}

type Mutation {
  addBook(title: String!, author: String!): Book! @isAuthenticated
  addUser(
    pseudo: String!
    password: String!
    fullName: String
    city: String
    state: String
  ): User
  updateUser(
    pseudo: String
    password: String
    fullName: String
    city: String
    state: String
  ): User! @isAuthenticated
  requestTrade(bookId: ID!): Trade! @isAuthenticated
  acceptTrade(tradeId: ID!): Trade! @isAuthenticated
}
